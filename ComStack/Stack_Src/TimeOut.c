#include "stm32f10x.h"
#include "TimeOut.h"



/******************************************************************************************************************
	VARIABLES GLOBALES
*****************************************************************************************************************/


/******************************************************************************************************************
	SystickStart

Rôle :
Param : 
*****************************************************************************************************************/

int Cpt_100us;

void SystickStart(void)
{
	Cpt_100us=0;
	SysTick->LOAD=100*9-1; // 72MHz/8 = 9Mhz, config à 100µs
  SysTick->CTRL|=1<<1; // Interruption locale validée
	SysTick->CTRL|=1<<0; // systick on
}


int SystickGet(void)
{
	return Cpt_100us;
}


/******************************************************************************************************************
	Interruption 100us

Rôle :
Param : 
*****************************************************************************************************************/
void SysTick_Handler(void)
{
	Cpt_100us++;
}

